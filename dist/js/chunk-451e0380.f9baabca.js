(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-451e0380"],{"8ae8":function(t,e,a){"use strict";var i=a("c8ff"),n=a.n(i);n.a},c1c7:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{attrs:{id:"heatMap"}})])}],r=(a("5453"),a("ec60"));
/*!
 * maptalks.heatmap v0.6.1
 * LICENSE : MIT
 * (c) 2016-2019 maptalks.org
 */
/*!
 * requires maptalks@^0.25.0 
 */
function o(t,e){return e={exports:{}},t(e,e.exports),e.exports}var s=o(function(t){function e(t){if(!(this instanceof e))return new e(t);this._canvas=t="string"===typeof t?document.getElementById(t):t,this._ctx=t.getContext("2d"),this._width=t.width,this._height=t.height,this._max=1,this._data=[]}t.exports=e,e.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(t){return this._data=t,this},max:function(t){return this._max=t,this},add:function(t){return this._data.push(t),this},clear:function(){return this._data=[],this},radius:function(t,e){e=void 0===e?15:e;var a=this._circle=this._createCanvas(),i=a.getContext("2d"),n=this._r=t+e;return a.width=a.height=2*n,i.shadowOffsetX=i.shadowOffsetY=2*n,i.shadowBlur=e,i.shadowColor="black",i.beginPath(),i.arc(-n,-n,t,0,2*Math.PI,!0),i.closePath(),i.fill(),this},resize:function(){this._width=this._canvas.width,this._height=this._canvas.height},gradient:function(t){var e=this._createCanvas(),a=e.getContext("2d"),i=a.createLinearGradient(0,0,0,256);for(var n in e.width=1,e.height=256,t)i.addColorStop(+n,t[n]);return a.fillStyle=i,a.fillRect(0,0,1,256),this._grad=a.getImageData(0,0,1,256).data,this},draw:function(t){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var e=this._ctx;e.clearRect(0,0,this._width,this._height);for(var a,i=0,n=this._data.length;i<n;i++)a=this._data[i],e.globalAlpha=Math.max(a[2]/this._max,void 0===t?.05:t),e.drawImage(this._circle,a[0]-this._r,a[1]-this._r);var r=e.getImageData(0,0,this._width,this._height);return this._colorize(r.data,this._grad),e.putImageData(r,0,0),this},_colorize:function(t,e){for(var a,i=0,n=t.length;i<n;i+=4)a=4*t[i+3],a&&(t[i]=e[a],t[i+1]=e[a+1],t[i+2]=e[a+2])},_createCanvas:function(){return"undefined"!==typeof document?document.createElement("canvas"):new this._canvas.constructor}}});function h(t,e){for(var a=Object.getOwnPropertyNames(e),i=0;i<a.length;i++){var n=a[i],r=Object.getOwnPropertyDescriptor(e,n);r&&r.configurable&&void 0===t[n]&&Object.defineProperty(t,n,r)}return t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function d(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):h(t,e))}var p={max:1,gradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},radius:25,blur:15,heatValueScale:1,minOpacity:.05},l=function(t){function e(a,i,n){c(this,e),Array.isArray(i)||(n=i,i=null);var r=u(this,t.call(this,a,n));return r._heats=i||[],r}return d(e,t),e.prototype.getData=function(){return this._heats},e.prototype.setData=function(t){return this._heats=t||[],this.redraw()},e.prototype.addPoint=function(t){return t?(t[0]&&Array.isArray(t[0])?r["Util"].pushIn(this._heats,t):this._heats.push(t),this.redraw()):this},e.prototype.onConfig=function(t){for(var e in t)if(p[e])return this.redraw();return this},e.prototype.redraw=function(){var t=this._getRenderer();return t&&(t.clearHeatCache(),t.setToRedraw()),this},e.prototype.isEmpty=function(){return!this._heats.length},e.prototype.clear=function(){return this._heats=[],this.redraw(),this.fire("clear"),this},e.prototype.toJSON=function(t){t||(t={});var e={type:this.getJSONType(),id:this.getId(),options:this.config()},a=this.getData();if(t["clipExtent"]){var i=new r["Extent"](t["clipExtent"]),n=this._getHeatRadius();n&&(i=i._expand(n));for(var o=[],s=0,h=a.length;s<h;s++)i.contains(new r["Coordinate"](a[s][0],a[s][1]))&&o.push(a[s]);e["data"]=o}else e["data"]=a;return e},e.fromJSON=function(t){return t&&"HeatLayer"===t["type"]?new e(t["id"],t["data"],t["options"]):null},e.prototype._getHeatRadius=function(){return this._getRenderer()?this._getRenderer()._heatRadius:null},e}(r["Layer"]);l.mergeOptions(p),l.registerJSONType("HeatLayer"),l.registerRenderer("canvas",function(t){function e(){return c(this,e),u(this,t.apply(this,arguments))}return d(e,t),e.prototype.draw=function(){var t=this.getMap(),e=this.layer,a=t.getContainerExtent(),i=this.prepareCanvas(),n=a;if(i){if(i=i.convertTo(function(e){return t._pointToContainerPoint(e)}),!i.intersects(a))return void this.completeRender();n=a.intersection(i)}this._heater||(this._heater=s(this.canvas)),this._heater.radius(e.options["radius"]||this._heater.defaultRadius,e.options["blur"]),e.options["gradient"]&&this._heater.gradient(e.options["gradient"]),this._heater.max(e.options["max"]),this._heatViews||(this._heatViews=[]);var r=e.getData();if(0!==r.length){var o=this._heatData(r,n);this._heater.data(o).draw(e.options["minOpacity"]),this.completeRender()}else this.completeRender()},e.prototype.drawOnInteracting=function(){this.draw()},e.prototype._heatData=function(t,e){var a=this.getMap(),i=this.layer,n=a.getProjection(),o=[],s=this._heater._r,h=void 0===i.options["max"]?1:i.options["max"],c=s/2,u=[],d=a.offsetPlatform(),p=d.x%c,l=d.y%c,f=void 0,_=void 0,g=void 0,y=void 0,v=void 0,m=void 0;e=e.expand(s).convertTo(function(t){return new r["Point"](a._containerPointToPrj(t))}),this._heatRadius=s;for(var w=0,x=t.length;w<x;w++)f=t[w],this._heatViews[w]||(this._heatViews[w]=n.project(new r["Coordinate"](f[0],f[1]))),_=this._heatViews[w],e.contains(_)&&(_=a._prjToContainerPoint(_),y=Math.floor((_.x-p)/c)+2,v=Math.floor((_.y-l)/c)+2,m=(void 0!==f[2]?+f[2]:.1)*i.options["heatValueScale"],u[v]=u[v]||[],g=u[v][y],g?(g[0]=(g[0]*g[2]+_.x*m)/(g[2]+m),g[1]=(g[1]*g[2]+_.y*m)/(g[2]+m),g[2]+=m):u[v][y]=[_.x,_.y,m]);for(var b=0,R=u.length;b<R;b++)if(u[b])for(var O=0,C=u[b].length;O<C;O++)g=u[b][O],g&&o.push([Math.round(g[0]),Math.round(g[1]),Math.min(g[2],h)]);return o},e.prototype.onZoomEnd=function(){delete this._heatViews,t.prototype.onZoomEnd.apply(this,arguments)},e.prototype.onResize=function(){t.prototype.onResize.apply(this,arguments),this.canvas&&(this._heater._width=this.canvas.width,this._heater._height=this.canvas.height)},e.prototype.onRemove=function(){this.clearHeatCache(),delete this._heater},e.prototype.clearHeatCache=function(){delete this._heatViews},e}(r["renderer"].CanvasRenderer)),"undefined"!==typeof console&&console.log("maptalks.heatmap v0.6.1, requires maptalks@^0.25.0.");var f={data:function(){return{coord:[[31.381779,121.228638,54],[31.123,121.289063,14],[31.113,121.212891063,24],[31.21123,121.23289063,14],[31.41123,121.23289063,22],[31.231123,121.23289063,14],[31.1274516203,121.393433,34],[31.424151,121.662598,61],[31.23134,121.133,34],[31.312341545,121.34222,44],[31.4611515279,121.37146,45],[31.12341545,121.34222,33],[31.611515279,121.37146,45],[31.12341545,121.34222,14],[31.611515279,121.37146,45],[30.134,121.61597,77],[30.8123499868,121.282446,26],[31.51,121.181824,73]]}},mounted:function(){var t=this,e=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});setTimeout(function(){e.close(),t.$nextTick(function(){return a()})},1e3);var a=function(){var e={center:[121.460651,31.219751],zoom:8,cneter:[121],maxZoom:16,spatialReference:{},baseLayer:new r["TileLayer"]("base",{urlTemplate:"http://wprd{s}.is.autonavi.com/appmaptile?x={x}&y={y}&z={z}&lang=zh_cn&size=1&scl=1&style=7",subdomains:["01","02","03","04"],attribution:'&copy; <a target="_blank" href="http://map.baidu.com">GaoDeMap</a>',cssFilter:"sepia(80%) invert(90%)"})};t.map=new r["Map"]("heatMap",e);var a=t.coord.map(function(t,e,a){return[t[1],t[0],t[2]]}),i={max:80,radius:30,blur:20,"minOpacity ":.05,"heatValueScale ":1,gradient:{.4:"blue",.65:"lime",1:"red"}};new l("heat",a,i).addTo(t.map)}}},_=f,g=(a("8ae8"),a("2877")),y=Object(g["a"])(_,i,n,!1,null,null,null);e["default"]=y.exports},c8ff:function(t,e,a){}}]);
//# sourceMappingURL=chunk-451e0380.f9baabca.js.map