{"version":3,"sources":["webpack:///./src/views/map/maptalks.vue?42ec","webpack:///./src/views/map/maptalks.vue?4f6a","webpack:///src/views/map/maptalks.vue","webpack:///./src/views/map/maptalks.vue?dea1","webpack:///./src/views/map/maptalks.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_maptalks_vue_vue_type_style_index_0_id_8bd6d104_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_maptalks_vue_vue_type_style_index_0_id_8bd6d104_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","type","size","icon","plain","on","click","add3Dmarker","_v","addLine","cj","exportjpg","id","staticRenderFns","maptalksvue_type_script_lang_js_","data","map","white_bd","bule_bd","tdt","mounted","_this","$nextTick","initMap","option","center","zoom","cneter","maxZoom","spatialReference","projection","scaleControl","position","maxWidth","metric","imperial","zoomControl","slider","zoomLevel","overviewControl","level ","baseLayer","maptalks_es","urlTemplate","subdomains","attribution","methods","layer","enableAltitude","drawAltitude","lineWidth","lineColor","addTo","markers","mk","_i","_mk","length","i","push","properties","altitude","addGeometry","animateTo","pitch","bearing","duration","line","visible","arrowStyle","arrowPlacement","symbol","replay","hide","animateShow","easing","frame","state","playState","console","log","setTimeout","$notify","title","vertexSymbol","markerType","markerFill","markerLineColor","markerLineWidth","markerWidth","markerHeight","labelOptions","textSymbol","textFaceName","textFill","textLineSpacing","textHorizontalAlignment","textDx","boxStyle","padding","markerFillOpacity","clearButtonSymbol","markerDx","language","toDataURL","mimeType","save","fileName","map_maptalksvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-32176e3c.ab2a21ea.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./maptalks.vue?vue&type=style&index=0&id=8bd6d104&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./maptalks.vue?vue&type=style&index=0&id=8bd6d104&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-location\",\"plain\":\"\"},on:{\"click\":_vm.add3Dmarker}},[_vm._v(\"添加3D标记\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-minus\",\"plain\":\"\"},on:{\"click\":_vm.addLine}},[_vm._v(\"动态画线\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-info\",\"plain\":\"\"},on:{\"click\":_vm.cj}},[_vm._v(\"测量距离\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-printer\",\"plain\":\"\"},on:{\"click\":_vm.exportjpg}},[_vm._v(\"导出jpg\")]),_c('div',{attrs:{\"id\":\"map\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"main\">\r\n    <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-location\" plain @click=\"add3Dmarker\">添加3D标记</el-button>\r\n    <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-minus\" plain @click=\"addLine\">动态画线</el-button>\r\n    <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-info\" plain @click=\"cj\">测量距离</el-button>\r\n    <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-printer\" plain @click=\"exportjpg\">导出jpg</el-button>\r\n    <div id=\"map\"></div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport \"maptalks/dist/maptalks.css\";\r\nimport * as maptalks from \"maptalks\";\r\nimport MaptalksWindy from \"wind-layer/dist/MaptalksWindy.js\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      map: null,\r\n      white_bd:\r\n        \"http://online{s}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles=pl&scaler=1&p=1\",\r\n      bule_bd:\r\n        \"http://api{s}.map.bdimg.com/customimage/tile?&x={x}&y={y}&z={z}&udt=20170620&scale=1&ak=8d6c8b8f3749aed6b1aff3aad6f40e37&styles=t%3Awater%7Ce%3Aall%7Cc%3A%23044161%2Ct%3Aland%7Ce%3Aall%7Cc%3A%23091934%2Ct%3Aboundary%7Ce%3Ag%7Cc%3A%23064f85%2Ct%3Arailway%7Ce%3Aall%7Cv%3Aoff%2Ct%3Ahighway%7Ce%3Ag%7Cc%3A%23004981%2Ct%3Ahighway%7Ce%3Ag.f%7Cc%3A%23005b96%7Cl%3A1%2Ct%3Ahighway%7Ce%3Al%7Cv%3Aon%2Ct%3Aarterial%7Ce%3Ag%7Cc%3A%23004981%7Cl%3A-39%2Ct%3Aarterial%7Ce%3Ag.f%7Cc%3A%2300508b%2Ct%3Agreen%7Ce%3Aall%7Cv%3Aoff%7Cc%3A%23056197%2Ct%3Asubway%7Ce%3Aall%7Cv%3Aoff%2Ct%3Amanmade%7Ce%3Aall%7Cv%3Aoff%2Ct%3Alocal%7Ce%3Aall%7Cv%3Aoff%2Ct%3Aarterial%7Ce%3Al%7Cv%3Aon%2Ct%3Aboundary%7Ce%3Ag.f%7Cc%3A%23029fd4%2Ct%3Abuilding%7Ce%3Aall%7Cc%3A%231a5787%2Ct%3Apoi%7Ce%3Aall%7Cv%3Aoff%2Ct%3Aall%7Ce%3Al%7Cv%3Aoff\",\r\n      tdt:\r\n        \"http://t{s}.tianditu.com/DataServer?T=vec_c&x={x}&y={y}&l={z}&tk=de0dc270a51aaca3dd4e64d4f8c81ff6\"\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => initMap());\r\n    const initMap = () => {\r\n      let option = {\r\n        center: [105.19052356963802, 36.04231948670001],\r\n        zoom: 5,\r\n        cneter: [121.0],\r\n        maxZoom: 16,\r\n        spatialReference: {\r\n          projection: \"baidu\"\r\n        },\r\n        scaleControl: {\r\n          position: \"bottom-left\",\r\n          maxWidth: 100,\r\n          metric: true,\r\n          imperial: true\r\n        },\r\n        zoomControl: {\r\n          position: \"top-right\",\r\n          slider: true,\r\n          zoomLevel: true\r\n        },\r\n        overviewControl: {\r\n          \"level \": 5,\r\n          size: [130, 80]\r\n        },\r\n        baseLayer: new maptalks.TileLayer(\"base\", {\r\n          urlTemplate: this.white_bd,\r\n          subdomains: [0, 1, 2],\r\n          attribution:\r\n            '&copy; <a href=\"http://www.osm.org\" target=\"_blank\">OpenStreetMap</a> contributors'\r\n        })\r\n      };\r\n      this.map = new maptalks.Map(\"map\", option);\r\n    };\r\n  },\r\n  methods: {\r\n    add3Dmarker() {\r\n      var layer = new maptalks.VectorLayer(\"3dmk\", {\r\n        enableAltitude: true,\r\n        // draw altitude\r\n        drawAltitude: {\r\n          lineWidth: 1,\r\n          lineColor: \"red\"\r\n        }\r\n      }).addTo(this.map);\r\n      let markers = [];\r\n      let mk = [\r\n        [121.1, 31.1331, 10001],\r\n        [121.12234, 31.133, 8001],\r\n        [121.1342, 31.13241, 6001],\r\n        [121.14, 31.1123, 7001],\r\n        [121.4, 31.223, 10001],\r\n        [121.2234, 31.133, 8001],\r\n        [121.13, 31.12341, 6001],\r\n        [121.14, 31.1423, 700]\r\n      ];\r\n      for (let i of mk) {\r\n        markers.push(\r\n          new maptalks.Marker([i[0], i[1]], {\r\n            properties: {\r\n              altitude: i[2]\r\n            }\r\n          })\r\n        );\r\n      }\r\n      layer.addGeometry(markers);\r\n      this.map.animateTo(\r\n        {\r\n          center: [121.1, 31.1],\r\n          zoom: 11,\r\n          pitch: 65,\r\n          bearing: 360\r\n        },\r\n        {\r\n          duration: 7000\r\n        }\r\n      );\r\n    },\r\n    addLine() {\r\n      this.map.animateTo(\r\n        {\r\n          center: [121.2, 31.1],\r\n          zoom: 12,\r\n          pitch: 15,\r\n          bearing: 360\r\n        },\r\n        {\r\n          duration: 1000\r\n        }\r\n      );\r\n      var line = new maptalks.LineString(\r\n        [\r\n          [121.1, 31.1331, 10001],\r\n          [121.12234, 31.133, 8001],\r\n          [121.1342, 31.13241, 6001],\r\n          [121.14, 31.1123, 7001],\r\n          [121.4, 31.223, 10001],\r\n          [121.2234, 31.133, 8001],\r\n          [121.13, 31.12341, 6001],\r\n          [121.14, 31.1423, 700]\r\n        ],\r\n        {\r\n          visible: false,\r\n          arrowStyle: \"classic\",\r\n          arrowPlacement: \"vertex-last\",\r\n          symbol: {\r\n            lineColor: \"#1bbc9b\",\r\n            lineWidth: 6\r\n          }\r\n        }\r\n      );\r\n      var lineLayer = new maptalks.VectorLayer(\"vector\", line).addTo(this.map);\r\n\r\n      function replay() {\r\n        line.hide();\r\n        //line's animateShow\r\n        line.animateShow(\r\n          {\r\n            duration: 2500,\r\n            easing: \"out\"\r\n          },\r\n          function(frame) {\r\n            if (frame.state.playState === \"finished\") {\r\n              console.log(\"finished\");\r\n            }\r\n          }\r\n        );\r\n      }\r\n      setTimeout(() => {\r\n        replay();\r\n      }, 1200);\r\n    },\r\n    cj() {\r\n      this.$notify({\r\n        title: \"单击地图开始测距! 双击结束测距！\",\r\n        type: \"success\"\r\n      });\r\n      var distanceTool = new maptalks.DistanceTool({\r\n        symbol: {\r\n          lineColor: \"#34495e\",\r\n          lineWidth: 2\r\n        },\r\n        vertexSymbol: {\r\n          markerType: \"ellipse\",\r\n          markerFill: \"#1bbc9b\",\r\n          markerLineColor: \"#000\",\r\n          markerLineWidth: 3,\r\n          markerWidth: 10,\r\n          markerHeight: 10\r\n        },\r\n\r\n        labelOptions: {\r\n          textSymbol: {\r\n            textFaceName: \"monospace\",\r\n            textFill: \"#fff\",\r\n            textLineSpacing: 1,\r\n            textHorizontalAlignment: \"right\",\r\n            textDx: 15,\r\n            markerLineColor: \"#b4b3b3\",\r\n            markerFill: \"#000\"\r\n          },\r\n          boxStyle: {\r\n            padding: [6, 2],\r\n            symbol: {\r\n              markerType: \"square\",\r\n              markerFill: \"#000\",\r\n              markerFillOpacity: 0.9,\r\n              markerLineColor: \"#b4b3b3\"\r\n            }\r\n          }\r\n        },\r\n        clearButtonSymbol: [\r\n          {\r\n            markerType: \"square\",\r\n            markerFill: \"#000\",\r\n            markerLineColor: \"#b4b3b3\",\r\n            markerLineWidth: 2,\r\n            markerWidth: 15,\r\n            markerHeight: 15,\r\n            markerDx: 20\r\n          },\r\n          {\r\n            markerType: \"x\",\r\n            markerWidth: 10,\r\n            markerHeight: 10,\r\n            markerLineColor: \"#fff\",\r\n            markerDx: 20\r\n          }\r\n        ],\r\n        language: \"en-US\"\r\n      }).addTo(this.map);\r\n    },\r\n    exportjpg() {\r\n      var data = this.map.toDataURL({\r\n        mimeType: \"image/jpeg\", // or 'image/png'\r\n        save: true, // to pop a save dialog\r\n        fileName: \"map\" // file name\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n\r\n<style scoped>\r\n.main {\r\n  background-color: #ffffff;\r\n  padding: 10px;\r\n}\r\n#map {\r\n  height: calc(100vh - 120px);\r\n  margin: 0px;\r\n  padding: 0px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./maptalks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./maptalks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./maptalks.vue?vue&type=template&id=8bd6d104&scoped=true&\"\nimport script from \"./maptalks.vue?vue&type=script&lang=js&\"\nexport * from \"./maptalks.vue?vue&type=script&lang=js&\"\nimport style0 from \"./maptalks.vue?vue&type=style&index=0&id=8bd6d104&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8bd6d104\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}